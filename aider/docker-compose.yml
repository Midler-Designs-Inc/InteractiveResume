services:
  aider:
    build: ./
    container_name: aider
    tty: true
    stdin_open: true
    volumes:
      - ../:/workspace
    environment:
      - OLLAMA_API_BASE=http://host.docker.internal:11434
    command: ["--model", "ollama/qwen2.5-coder:14b", "--yes-always", "--no-auto-commits"]
    extra_hosts:
      - "host.docker.internal:host-gateway"